<link rel="import" href="https://bigasterisk.com/lib/polymer/1.0.9/polymer/polymer.html"></script>

<link rel="import" href="../elements/photo-image-set.html">
<link rel="import" href="../elements/photo-thumbnail.html">
<link rel="import" href="../elements/photo-tag-edit.html">

<dom-module id="photo-random-header">
  <style>
   #row {
     display: flex;
     align-items: flex-end;
   }
   #row > div {
     flex-grow: 1;
   }
   photo-thumbnail { width: 100%; }
  </style>
  <template>
    <div>
      randoms!
      <button on-click="newSeed">Load new ones</button>
      <photo-image-set sort="random" seed="{{seed}}" limit="3" out="{{iset}}" only-tagged=""></photo-image-set>
    </div>
    <div id="row">
      <template is="dom-repeat" items="{{iset.images}}">
        <div class="tagImg">
          <photo-thumbnail img="{{item}}" size="large"></photo-thumbnail>
          <div><photo-tag-edit img="{{item}}"></photo-tag-edit></div>
        </div>
      </template>
    </div>
  </template>
  <script>
   Polymer({
     is: 'photo-random-header',
     properties: {
       count: { notify: true },
       iset: { type: Object }
     },
     ready: function () {
       this.newSeed();
     },
     newSeed: function () {
       this.seed = +new Date();
     }
   });
  </script>
</dom-module>
